github_token <- oauth2.0_token(oauth_endpoints("Data Science Specialization: Getting and Cleaning Data"), myapp)
library(httr)
# 1. Find OAuth settings for github:
#    http://developer.github.com/v3/oauth/
oauth_endpoints("github")
# 2. Register an application at https://github.com/settings/applications;
#    Use any URL you would like for the homepage URL (http://github.com is fine)
#    and http://localhost:1410 as the callback url
#
#    Insert your client ID and secret below - if secret is omitted, it will
#    look it up in the GITHUB_CONSUMER_SECRET environmental variable.
myapp <- oauth_app("github", "56b637a5baffac62cad9")
# 3. Get OAuth credentials
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
library(httr)
oauth_endpoints("github")
myapp <- oauth_app("github", "b061a9b10fa6b4bf1a8a", "4b54071b19d312871928e58d99eb037935aef324")
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
oauth_endpoints("github")
myapp <- oauth_app("github", "b061a9b10fa6b4bf1a8a", "4b54071b19d312871928e58d99eb037935aef324")
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
stop_for_status(req)
content(req)
req <- GET("https://api.github.com/rate_limit", config(token = github_token))
stop_for_status(req)
myapp <- oauth_app("github", "b061a9b10fa6b4bf1a8a", "4b54071b19d312871928e58d99eb037935aef324")
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
Cuwzq0r0github
myapp <- oauth_app("github", "b061a9b10fa6b4bf1a8a", "4b54071b19d312871928e58d99eb037935aef324")
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
req <- GET("https://api.github.com/rate_limit", config(token = github_token))
stop_for_status(req)
myapp <- oauth_app("github", "b061a9b10fa6b4bf1a8a", "4b54071b19d312871928e58d99eb037935aef324")
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
stop_for_status(req)
content(req)
BROWSE("https://api.github.com/users/jtleek/repos",authenticate("Access Token","x-oauth-basic","basic"))
?oauth2.0_token
install.packages(c("jsonlite", "httpuv", "httr")
)
install.packages(c("jsonlite", "httpuv", "httr"))
library(c("jsonlite", "hyypuv", "httr"))
library("jsonlite")
library("httpuv")
library("httr")
library("jsonlite")
library("httpuv")
library("httr")
myapp <- oauth_app("coursera", "b061a9b10fa6b4bf1a8a", "4b54071b19d312871928e58d99eb037935aef324")
github_token <- oauth2.0_token(oauth_endpoints("coursera"), myapp)
req <- GET("https://api.github.com/rate_limit", config(token = github_token))
stop_for_status(req)
content(req)
BROWSE("https://api.github.com/users/jtleek/repos",authenticate("Access Token","x-oauth-basic","basic"))
myapp <- oauth_app("coursera", "b061a9b10fa6b4bf1a8a", "4b54071b19d312871928e58d99eb037935aef324")
github_token <- oauth2.0_token(oauth_endpoints("coursera"), myapp)
req <- GET("https://api.github.com/rate_limit", config(token = github_token))
content(req)
BROWSE("https://api.github.com/users/jtleek/repos",authenticate("Access Token","x-oauth-basic","basic"))
myapp <- oauth_app("coursera", "b061a9b10fa6b4bf1a8a", "4b54071b19d312871928e58d99eb037935aef324")
github_token <- oauth2.0_token(oauth_endpoints("coursera"), myapp)
BROWSE("https://api.github.com/users/jtleek/repos",authenticate("Access Token","x-oauth-basic","basic"))
myapp <- oauth_app("coursera", "b061a9b10fa6b4bf1a8a", "4b54071b19d312871928e58d99eb037935aef324")
BROWSE("https://api.github.com/users/jtleek/repos",authenticate("Access Token","x-oauth-basic","basic"))
data <- structure(list(date = structure(c(16L, 1L, 6L, 11L, 17L, 2L,
7L, 12L, 18L, 3L, 8L, 13L, 19L, 4L, 9L, 14L, 20L, 5L, 10L, 15L,
21L), .Label = c("12/1/2009 0:00:00", "12/1/2010 0:00:00", "12/1/2011 0:00:00",
"12/1/2012 0:00:00", "12/1/2013 0:00:00", "3/1/2010 0:00:00",
"3/1/2011 0:00:00", "3/1/2012 0:00:00", "3/1/2013 0:00:00", "3/1/2014 0:00:00",
"5/31/2010 23:00:00", "5/31/2011 23:00:00", "5/31/2012 23:00:00",
"5/31/2013 23:00:00", "5/31/2014 23:00:00", "8/31/2009 23:00:00",
"8/31/2010 23:00:00", "8/31/2011 23:00:00", "8/31/2012 23:00:00",
"8/31/2013 23:00:00", "8/31/2014 23:00:00"), class = "factor"),
gdp = c(0.002000575, 0.003890642, 0.005088272, 0.009771946,
0.006467518, 0.000247441, 0.005362386, 0.002284132, 0.00696325,
-0.000147759, 0.000677327, -0.001779548, 0.008329224, -0.00337704,
0.005957449, 0.006427064, 0.0071664, 0.004061822, 0.006772674,
0.007517419, 0.006551699), unemp_rate = c(0, 0, 0.2, -0.1,
-0.1, 0.1, -0.1, 0.1, 0.4, 0.1, -0.2, -0.2, -0.1, -0.1, 0,
0, -0.2, -0.4, -0.4, -0.5, -0.3), cpi_index = c(0.006539081,
0.007278347, 0.007439852, 0.01287489, 0.002928654, 0.010128833,
0.014669842, 0.015393251, 0.006089083, 0.009548705, 0.003463403,
0.008184866, 0.002730592, 0.012079435, 0.004513875, 0.007228126,
0.003024506, 0.006102001, 0.000928235, 0.007057474, 0.000405809
), rpi_index = c(0.008466604, 0.011660448, 0.011065007, 0.019151847,
0.004474273, 0.011135857, 0.017180617, 0.017323517, 0.00553427,
0.010160881, 0.004191115, 0.010851419, 0.003715937, 0.011929247,
0.005691057, 0.009296686, 0.004805767, 0.006377043, 0.005544554,
0.008270973, 0.003515625), var1 = c(0.041601305, 0.012048193,
0.02875, 0.015448707, 0.016524217, -0.021860987, -0.008997135,
-0.003816573, 0.019330121, -0.010990888, -0.000230322, 0.012325059,
0.017636684, -0.006708783, -0.000787978, 0.018419422, 0.024889381,
0.011171074, 0.022735763, 0.039503209, 0.039508032), var2 = c(0.193230747,
0.022703903, -0.222946928, 0.13795924, 0.119414245, -0.098281638,
-0.104039862, 0.108217236, 0.191878865, -0.079442157, -0.091365159,
0.013284528, 0.07226117, -0.005000292, -0.137470909, 0.225735629,
0.189354653, 0.039039948, -0.085462281, 0.093873476, 0.085234886
), var3 = c(0.002260496, 0.003004489, 0.002789741, 0.000843318,
0.001498776, -0.002076772, 0.000737306, 0.001119267, 0.001567801,
0.002012014, 0.004426378, 0.010746497, 0.001646379, 0.000966773,
0.000978465, 0.001693297, 0.00216341, 0.004515371, 0.004334033,
0.004611893, 0.004022014), var4 = c(0.016428674, 0.015541372,
0.015225019, 0.003532365, 0.006978383, 0.013506623, 0.005057618,
0.00660319, 0.006242028, 0.010126316, 0.009523975, 0.013690636,
0.018186905, 0.01259537, 0.015526088, 0.014078954, 0.012134669,
0.011188655, 0.021969445, 0.015191039, 0.011791335)), .Names = c("date",
"gdp", "unemp_rate", "cpi_index", "rpi_index", "var1", "var2",
"var3", "var4"), class = "data.frame", row.names = c(NA, -21L
))
mycor <- cor(data[-1])
mycor <- round(mycor[5:8,1:4], 2)
mycor
install.packages("corrplot")
library(corrplot)
corrplot(mycor)
mycor <- cor(data[-1])
mycor
mycor <- cor(data[-1])
mycor <- round(mycor[5:7,1:4], 2)
mycor
corrplot(mycor)
library(nlme)
library(lattice)
xyplot(weight ~ Time | Diet, BodyWeight)
?test
?text
library(lattice)
library(datasets)
data(airquality)
p <- xyplot(Ozone ~ Wind | factor(Month), data = airquality)
print(p)
?splom
?trllis.par.set
?par
library(datasets)
data(airquality)
library(ggplot2)
install.packages("ggplot2")
qplot(Wind, Ozone, data = airquality, facets = . ~ factor(Month))
library(ggplot2)
qplot(Wind, Ozone, data = airquality, facets = . ~ factor(Month))
library("ggplot2", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
library("ggplot2", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
qplot(Wind, Ozone, data = airquality, facets = . ~ factor(Month))
library(datasets)
data(airquality)
library(ggplot2)
library("ggplot2", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
detach("package:ggplot2", unload=TRUE)
install.packages("colorspace")
library(ggplot2)
qplot(Wind, Ozone, data = airquality, facets = . ~ factor(Month))
qplot(Wind, Ozone, data = airquality, facets = . ~ factor(Month))
airquality = transform(airquality, Month = factor(Month))
qplot(Wind, Ozone, data = airquality, facets = . ~ Month)
qplot(votes, rating, data = movies, smooth = "loess")
qplot(votes, rating, data = movies) + stats_smooth("loess")
qplot(votes, rating, data = movies, panel = panel.loess)
qplot(votes, rating, data = movies) + geom_smooth()
setwd("~/Documents/GitHub/coursera-datascience-exploratory-data-analysis-course-project-2")
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
class(NEI)
NEI <- as.data.table(NEI)
library(data.tabl)
library(data.table)
NEI <- as.data.table(NEI)
SCC <- as.data.table(SCC)
head(NEI)
View(SCC)
View(NEI)
?aggregate
?with
View(NEI)
unique(NEI$Pollutant)
?aggregate
?list
total.emissions <- with(NEI, aggregate(Emissions, by = year, sum))
total.emissions <- with(NEI, aggregate(Emissions, by = list(year), sum))
View(total.emissions)
View(total.emissions)
plot(tota.emissions)
plot(total.emissions)
help plot
?plot
plot(total.emissions, type = "l")
?plot
plot(total.emissions, type = "b")
? plot
plot(total.emissions, type = "b", main = "Total Emissions from PM2.5 from 1999 to 2008 in the United States")
plot(total.emissions, type = "b", main = "Total Emissions from PM2.5")
plot(total.emissions, type = "b", main = "Total Emissions from PM2.5", xlab = "Year", ylab = "Amount of PM2.5 emitted, in tons")
plot(total.emissions, type = "b", main = "Total Emissions from PM2.5", xlab = "Year", ylab = "Amount of PM2.5 emitted, in tons", col = "blue")
png(filename = "plot1.png", width = 500, height = 500, units = "px")
plot(total.emissions, type = "b", main = "Total Emissions from PM2.5", xlab = "Year", ylab = "Amount of PM2.5 emitted, in tons", col = "blue")
dev.off()
View(NEI)
View(total.emissions)
aggregate
?aggregate
total.emissions <- with(NEI, aggregate(Emissions, by = list(year, fips), sum))
View(total.emissions)
plot(total.emissions[which(NEI$fips == "24510")], type = "b", main = "Total Emissions from PM2.5", xlab = "Year", ylab = "Amount of PM2.5 emitted, in tons", col = "blue")
View(total.emissions)
plot(total.emissions[which(total.emissions$V2 == "24510")], type = "b", main = "Total Emissions from PM2.5", xlab = "Year", ylab = "Amount of PM2.5 emitted, in tons", col = "blue")
View(total.emissions)
plot(total.emissions[which(total.emissions$Group2 == "24510")], type = "b", main = "Total Emissions from PM2.5", xlab = "Year", ylab = "Amount of PM2.5 emitted, in tons", col = "blue")
class(total.emissions)
total.emissions <- as.data.table(with(NEI, aggregate(Emissions, by = list(year, fips), sum)))
plot(total.emissions[which(total.emissions$Group2 == "24510")], type = "b", main = "Total Emissions from PM2.5", xlab = "Year", ylab = "Amount of PM2.5 emitted, in tons", col = "blue")
plot(total.emissions[which(total.emissions$Group.2 == "24510")], type = "b", main = "Total Emissions from PM2.5", xlab = "Year", ylab = "Amount of PM2.5 emitted, in tons", col = "blue")
?plot
View(total.emissions)
View(SCC)
names(total.emissions) <- c("Year", "Fips", "Emissions")
View(total.emissions)
plot(total.emissions$Year[which(total.emissions$fips == "24510")], total.emissions$Emissions[which(total.emissions$fips == "24510")], type = "b", main = "Total Emissions from PM2.5", xlab = "Year", ylab = "Amount of PM2.5 emitted, in tons", col = "blue")
plot(total.emissions$Year[which(total.emissions$fips == "24510")], total.emissions$Emissions[which(total.emissions$fips == "24510")], type = "b", main = "Total Emissions from PM2.5", xlab = "Year", ylab = "Amount of PM2.5 emitted, in tons", col = "blue")
NEI.24510 <- NEI[which(NEI$fips == "24510")]
total.emissions <- as.data.table(with(NEI.24510, aggregate(Emissions, by = list(year, fips), sum)))
# renaming column names of total.emissions
plot(total.emissions, type = "b", main = "Total Emissions from PM2.5", xlab = "Year", ylab = "Amount of PM2.5 emitted, in tons", col = "blue")
total.emissions <- as.data.table(with(NEI.24510, aggregate(Emissions, by = list(year), sum)))
plot(total.emissions, type = "b", main = "Total Emissions from PM2.5", xlab = "Year", ylab = "Amount of PM2.5 emitted, in tons", col = "blue")
plot(total.emissions, type = "b", main = "Total Emissions from PM2.5 in Baltimore City, Maryland", xlab = "Year", ylab = "Amount of PM2.5 emitted, in tons", col = "blue")
plot(total.emissions, type = "b", main = "Total Emissions from PM2.5", sub = "Baltimore City, Maryland", xlab = "Year", ylab = "Amount of PM2.5 emitted, in tons", col = "blue")
plot(total.emissions, type = "b", main = "Total Emissions from PM2.5", sub = "Baltimore City, Maryland", xlab = "Year", ylab = "Amount of PM2.5 emitted, in tons", col = "blue")
plot(total.emissions, type = "b", main = "Total Emissions from PM2.5 /nBaltimore City, Maryland", sub = "Baltimore City, Maryland", xlab = "Year", ylab = "Amount of PM2.5 emitted, in tons", col = "blue")
plot(total.emissions, type = "b", main = "Total Emissions from PM2.5 \nBaltimore City, Maryland", sub = "Baltimore City, Maryland", xlab = "Year", ylab = "Amount of PM2.5 emitted, in tons", col = "blue")
plot(total.emissions, type = "b", main = "Total Emissions from PM2.5 \nBaltimore City, Maryland", xlab = "Year", ylab = "Amount of PM2.5 emitted, in tons", col = "blue")
png(filename = "plot2.png", width = 500, height = 500, units = "px")
# plotting total.emissions using the base package
plot(total.emissions, type = "b", main = "Total Emissions from PM2.5 \nBaltimore City, Maryland", xlab = "Year", ylab = "Amount of PM2.5 emitted, in tons", col = "blue")
# closing the PNG device
dev.off()
library(ggplot2)
total.emissions <- as.data.table(with(NEI.24510, aggregate(Emissions, by = list(year, type), sum)))
View(total.emissions)
names(total.emissions) <- c("Year", "Type", "Emissions")
?ggplot2
?ggplot
ggplor(total.emissions, aes(Year, Emissions))
ggplot(total.emissions, aes(Year, Emissions))
ggplot(total.emissions, aes(Year, Emissions)) + geom_point()
ggplot(total.emissions, aes(Year, Emissions)) + geom_line()
ggplot(total.emissions, aes(Year, Emissions, colour = Type)) + geom_line()
ggplot(total.emissions, aes(Year, Emissions, colour = Type)) + geom_line() + geom_point()
png(filename = "plot3.png", width = 500, height = 500, units = "px")
# plotting total.emissions using the base package
ggplot(total.emissions, aes(Year, Emissions, colour = Type)) + geom_line() + geom_point()
# closing the PNG device
dev.off()
View(SCC)
View(NEI)
View(SCC)
unique(SCC$Short.Name)
combustionRelated <- grepl("comb", SCC$SCC.Level.One, ignore.case=TRUE)
coalRelated <- grepl("coal", SCC$SCC.Level.Four, ignore.case=TRUE)
coalCombustion <- (combustionRelated & coalRelated)
test <- data.frame(coalCombustion, coalRelated, combustionRelated)
View(test)
combustionSCC <- SCC[coalCombustion,]$SCC
combustionNEI <- NEI[NEI$SCC %in% combustionSCC,]
View(combustionNEI)
combustionRelated <- grepl("comb", SCC$SCC.Level.One, ignore.case=TRUE)
coalRelated <- grepl("coal", SCC$SCC.Level.Four, ignore.case=TRUE)
coalCombustion <- (combustionRelated & coalRelated)
coalCombustionSCC <- SCC[coalCombustion,]$SCC
coalCombustionNEI <- NEI[NEI$SCC %in% coalCombustionSCC,]
# aggregating total emissions by year
total.emissions <- as.data.table(with(coalCombustionNEI, aggregate(Emissions, by = list(year), sum)))
# renaming columns of total.emissions
names(total.emissions) <- c("Year", "Type", "Emissions")
# opening the PNG device to plot chart for question 1
png(filename = "plot3.png", width = 500, height = 500, units = "px")
ggplot(total.emissions, aes(Year, Emissions)) + geom_line() + geom_point()
ggplot(total.emissions, aes(Year, Emissions)) + geom_line() + geom_point()
# closing the PNG device
names(total.emissions) <- c("Year", "Type", "Emissions")
ggplot(total.emissions, aes(Year, Emissions)) + geom_line() + geom_point()
View(total.emissions)
names(total.emissions) <- c("Year", "Emissions")
ggplot(total.emissions, aes(Year, Emissions)) + geom_line() + geom_point()
dev.off()
ggplot(total.emissions, aes(Year, Emissions)) + geom_line() + geom_point()
combustionRelated <- grepl("comb", SCC$SCC.Level.One, ignore.case=TRUE)
coalRelated <- grepl("coal", SCC$SCC.Level.Four, ignore.case=TRUE)
coalCombustion <- (combustionRelated & coalRelated)
coalCombustionSCC <- SCC[coalCombustion,]$SCC
coalCombustionNEI <- NEI[NEI$SCC %in% coalCombustionSCC,]
# aggregating total emissions by year
total.emissions <- as.data.table(with(coalCombustionNEI, aggregate(Emissions, by = list(year), sum)))
# renaming columns of total.emissions
names(total.emissions) <- c("Year", "Emissions")
ggplot(total.emissions, aes(Year, Emissions)) + geom_line() + geom_point()
library(data.table)
library(ggplot2)
# setting up working directory and loading data
setwd("~/Documents/GitHub/coursera-datascience-exploratory-data-analysis-course-project-2")
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# convert NEI and SCC into data.table objects
NEI <- as.data.table(NEI)
SCC <- as.data.table(SCC)
combustionRelated <- grepl("comb", SCC$SCC.Level.One, ignore.case=TRUE)
coalRelated <- grepl("coal", SCC$SCC.Level.Four, ignore.case=TRUE)
coalCombustion <- (combustionRelated & coalRelated)
coalCombustionSCC <- SCC[coalCombustion,]$SCC
coalCombustionNEI <- NEI[NEI$SCC %in% coalCombustionSCC,]
names(total.emissions) <- c("Year", "Emissions")
total.emissions <- as.data.table(with(coalCombustionNEI, aggregate(Emissions, by = list(year), sum)))
names(total.emissions) <- c("Year", "Emissions")
ggplot(total.emissions, aes(Year, Emissions)) + geom_line() + geom_point()
View(coalCombustionNEI)
ggplot(coalCombustionNEI,aes(factor(year),Emissions/10^5)) +
geom_bar(stat="identity",fill="grey",width=0.75) +
theme_bw() +  guides(fill=FALSE) +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (10^5 Tons)")) +
labs(title=expression("PM"[2.5]*" Coal Combustion Source Emissions Across US from 1999-2008"))
ggplot(coalCombustionNEI,aes(factor(year),Emissions/10^5)) +
geom_line()
ggplot(coalCombustionNEI,aes(year,Emissions/10^5)) +
geom_line()
View(SCC)
unique(SCC$SCC.Level.One)
unique(SCC$SCC.Level.Four)
ggplot(total.emissions, aes(Year, Emissions)) + geom_line() + geom_point()
ggplot(total.emissions, aes(Year, Emissions)) + geom_bar()
ggplot(total.emissions, aes(Year, Emissions)) + geom_bar()
ggplot(total.emissions, aes(Year, Emissions)) + geom_bar()
ggplot(total.emissions, aes(factor(Year(, Emissions)) + geom_bar()
ggplot(total.emissions, aes(factor(Year), Emissions)) + geom_bar()
ggplot(total.emissions, aes(factor(Year), Emissions)) + geom_bar()
ggplot(total.emissions, aes(factor(Year), Emissions)) + geom_bar()
ggplot(total.emissions, aes(Emissions)) + geom_bar()
ggplot(total.emissions, aes(Year, Emissions)) + geom_bar()
ggplot(total.emissions, aes(Year, Emissions)) + geom_line() +geom_point()
ggplot(total.emissions, aes(Year, Emissions, colour = "blue")) + geom_line() +geom_point()
ggplot(total.emissions, aes(Year, Emissions, colour = blue)) + geom_line() +geom_point()
ggplot(total.emissions, aes(Year, Emissions, colour = blue)) + geom_line() +geom_point()
ggplot(total.emissions, aes(Year, Emissions)) + geom_line() +geom_point()
png(filename = "plot4.png", width = 500, height = 500, units = "px")
# plotting total.emissions using the base package
ggplot(total.emissions, aes(Year, Emissions)) + geom_line() +geom_point()
plot(total.emissions, type)
png(filename = "plot4.png", width = 500, height = 500, units = "px")
# plotting total.emissions using the base package
ggplot(total.emissions, aes(Year, Emissions)) + geom_line() +geom_point()
# closing the PNG device
dev.off()
NEI.24510 <- NEI[which(NEI$fips == "24510")]
# aggregating total emissions by year
total.emissions <- as.data.table(with(NEI.24510, aggregate(Emissions, by = list(year, type), sum)))
# renaming columns of total.emissions
names(total.emissions) <- c("Year", "Type", "Emissions")
# opening the PNG device to plot chart for question 1
png(filename = "plot3.png", width = 500, height = 500, units = "px")
# plotting total.emissions using the base package
ggplot(total.emissions, aes(Year, Emissions, colour = Type)) + geom_line() + geom_point()
# closing the PNG device
dev.off()
View(SCC)
unique(SCC$SCC.Level.One)
unique(SCC$SCC.Level.Two)
unique(SCC$SCC.Level.One)
View(total.emissions)
View(SCC)
total.emissions.Onroad <- total.emissions[which(total.emissions$Type == "Onroad")]
View(total.emissions.Onroad)
total.emissions <- as.data.table(with(NEI.24510, aggregate(Emissions, by = list(year, type), sum)))
total.emissions.Onroad <- total.emissions[which(total.emissions$Type == "Onroad")]
View(total.emissions)
names(total.emissions) <- c("Year", "Type", "Emissions")
total.emissions.Onroad <- total.emissions[which(total.emissions$Type == "Onroad")]
names(total.emissions) <- c("Year", "Type", "Emissions")
total.emissions.Onroad <- total.emissions[which(total.emissions$Type == "Onroad")]
View(total.emissions)
total.emissions.Onroad <- total.emissions[which(total.emissions$Type == "ON-ROAD")]
View(total.emissions.Onroad)
png(filename = "plot5.png", width = 500, height = 500, units = "px")
# plotting total.emissions using the base package
ggplot(total.emissions, aes(Year, Emissions, colour = Type)) + geom_line() + geom_point()
# closing the PNG device
dev.off()
ggplot(total.emissions, aes(Year, Emissions, colour = Type)) + geom_line() + geom_point()
ggplot(total.emissions.Onroad, aes(Year, Emissions, colour = Type)) + geom_line() + geom_point()
<
png(filename = "plot5.png", width = 500, height = 500, units = "px")
# plotting total.emissions using the base package
ggplot(total.emissions.Onroad, aes(Year, Emissions, colour = Type)) + geom_line() + geom_point()
# closing the PNG device
dev.off()
View(NEI.24510)
total.emissions <- as.data.table(with(NEI.24510, aggregate(Emissions, by = list(year, fips, type), sum)))
View(total.emissions)
total.emissions <- as.data.table(with(NEI, aggregate(Emissions, by = list(year, fips, type), sum)))
View(total.emissions)
names(total.emissions) <- c("Year", "FIPS", "Type", "Emissions")
View(total.emissions)
?which
total.emissions.Onroad <- total.emissions[which(total.emissions$Type == "ON-ROAD" & (total.emissions$FIPS == "24510"))]
View(total.emissions.Onroad)
ggplot(total.emissions.Onroad, aes(Year, Emissions, colour = Type)) + geom_line() + geom_point()
total.emissions.Onroad <- total.emissions[which(total.emissions$Type == "ON-ROAD" & (total.emissions$FIPS == "24510" | total.emissions$FIPS == "06037"))]
View(total.emissions.Onroad)
total.emissions.Onroad <- total.emissions[which(total.emissions$Type == "ON-ROAD" & (total.emissions$FIPS == "24510" | total.emissions$FIPS == "06037"))]
ggplot(total.emissions.Onroad, aes(Year, Emissions, colour = FIPS)) + geom_line() + geom_point()
View(total.emissions.Onroad)
ggplot(total.emissions.Onroad, aes(Year, Emissions, colour = FIPS)) + geom_line() + geom_point() + geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=-1))
?geom_text
ggplot(total.emissions.Onroad, aes(Year, Emissions, colour = FIPS)) + geom_line() + geom_point() + geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=-1)) + geom_title('Total Emissions of Motor Vehicle Sources\nLos Angeles County, California vs. Baltimore City, Maryland')
ggplot(total.emissions.Onroad, aes(Year, Emissions, colour = FIPS)) + geom_line() + geom_point() + geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=-1)) + geom_title('Total Emissions of Motor Vehicle Sources\nLos Angeles County, California vs. Baltimore City, Maryland')
ggplot(total.emissions.Onroad, aes(Year, Emissions, colour = FIPS)) + geom_line() + geom_point() + geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=-1)) + ggtitle('Total Emissions of Motor Vehicle Sources\nLos Angeles County, California vs. Baltimore City, Maryland')
?geom_text
ggplot(total.emissions.Onroad, aes(Year, Emissions, colour = FIPS)) + geom_line() + geom_point() + geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=-1), show_guide = FALSE) + ggtitle('Total Emissions of Motor Vehicle Sources\nLos Angeles County, California vs. Baltimore City, Maryland')
ggplot(total.emissions.Onroad, aes(Year, Emissions, colour = FIPS)) + geom_line() + geom_point() + geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=-1), show_guide = FALSE) + ggtitle('Total Emissions of Motor Vehicle Sources\nLos Angeles County, California vs. Baltimore City, Maryland') + scale_shape_discrete(name  ="Legend", breaks=c("06037", "24510"), labels=c("Baltimore City, Maryland", "Los Angeles County, California"))
ggplot(total.emissions.Onroad, aes(Year, Emissions, colour = FIPS)) + geom_line() + geom_point() + geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=-1), show_guide = FALSE) + ggtitle('Total Emissions of Motor Vehicle Sources\nLos Angeles County, California vs. Baltimore City, Maryland') + scale_shape_discrete(name  ="Legend", breaks=c("06037", "24510"), labels= c("Baltimore City, Maryland", "Los Angeles County, California"))
lp <- ggplot(total.emissions.Onroad, aes(Year, Emissions, colour = FIPS)) + geom_line() + geom_point() + geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=-1), show_guide = FALSE) + ggtitle('Total Emissions of Motor Vehicle Sources\nLos Angeles County, California vs. Baltimore City, Maryland')
lp + scale_shape_discrete(name  ="Legend", breaks=c("06037", "24510"), labels= c("Baltimore City, Maryland", "Los Angeles County, California"))
ggplot(total.emissions.Onroad, aes(Year, Emissions, colour = FIPS)) + geom_line() + geom_point() + geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=-1), show_guide = FALSE) + ggtitle('Total Emissions of Motor Vehicle Sources\nLos Angeles County, California vs. Baltimore City, Maryland') + scale_color_manual("Legend Title\n", labels = c("T999", "T888"))
ggplot(total.emissions.Onroad, aes(Year, Emissions, colour = FIPS)) + geom_line() + geom_point() + geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=-1), show_guide = FALSE) + ggtitle('Total Emissions of Motor Vehicle Sources\nLos Angeles County, California vs. Baltimore City, Maryland') + scale_color_manual("Legend Title\n", labels = c("T999", "T888"), values = c("blue", "red"))
?scale_colour_maual
?scale_color_manual
ggplot(total.emissions.Onroad, aes(Year, Emissions, colour = FIPS)) + geom_line() + geom_point() + geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=-1), show_guide = FALSE) + ggtitle('Total Emissions of Motor Vehicle Sources\nLos Angeles County, California vs. Baltimore City, Maryland') + scale_color_manual("Legend Title\n", labels = c("Los Angeles County, California", "Baltimore City, Maryland"), values = c("blue", "red"))
ggplot(total.emissions.Onroad, aes(Year, Emissions, colour = FIPS)) + geom_line() + geom_point() + geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=-1), show_guide = FALSE) + ggtitle('Total Emissions of Motor Vehicle Sources\nLos Angeles County, California vs. Baltimore City, Maryland') + scale_color_manual("Legend Title\n", labels = c("Los Angeles County, California", "Baltimore City, Maryland"), values = c("blue", "pink"))
ggplot(total.emissions.Onroad, aes(Year, Emissions, colour = FIPS)) + geom_line() + geom_point() + geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=-1), show_guide = FALSE) + ggtitle('Total Emissions of Motor Vehicle Sources\nLos Angeles County, California vs. Baltimore City, Maryland') + scale_color_manual("Legend Title\n", labels = c("Los Angeles County, California", "Baltimore City, Maryland"), values = c("blue", "orange"))
ggplot(total.emissions.Onroad, aes(Year, Emissions, colour = FIPS)) + geom_line() + geom_point() + geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=-1), show_guide = FALSE) + ggtitle('Total Emissions of Motor Vehicle Sources\nLos Angeles County, California vs. Baltimore City, Maryland') + scale_color_manual("Legend Title\n", labels = c("Los Angeles County, California", "Baltimore City, Maryland"))
values = c("blue", "orange"))
ggplot(total.emissions.Onroad, aes(Year, Emissions, colour = FIPS)) + geom_line() + geom_point() + geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=-1), show_guide = FALSE) + ggtitle('Total Emissions of Motor Vehicle Sources\nLos Angeles County, California vs. Baltimore City, Maryland') + scale_color_manual("Legend Title\n", labels = c("Los Angeles County, California", "Baltimore City, Maryland"), values = FIPS)
View(total.emissions.Onroad)
ggplot(total.emissions.Onroad, aes(Year, Emissions, colour = FIPS)) + geom_line() + geom_point() + geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=-1), show_guide = FALSE) + ggtitle('Total Emissions of Motor Vehicle Sources\nLos Angeles County, California vs. Baltimore City, Maryland') + scale_color_manual("Legend Title\n", labels = c("Los Angeles County, California", "Baltimore City, Maryland"), values = total.emissions.Onroad$FIPS)
ggplot(total.emissions.Onroad, aes(Year, Emissions, colour = FIPS)) + geom_line() + geom_point() + geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=-1), show_guide = FALSE) + ggtitle('Total Emissions of Motor Vehicle Sources\nLos Angeles County, California vs. Baltimore City, Maryland') + scale_color_manual("Legend Title\n", labels = c("Los Angeles County, California", "Baltimore City, Maryland"), breaks = total.emissions.Onroad$FIPS)
ggplot(total.emissions.Onroad, aes(Year, Emissions, colour = FIPS)) + geom_line() + geom_point() + geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=-1), show_guide = FALSE) + ggtitle('Total Emissions of Motor Vehicle Sources\nLos Angeles County, California vs. Baltimore City, Maryland') + scale_color_manual("Legend Title\n", labels = c("Los Angeles County, California", "Baltimore City, Maryland"), values = c("blue", "orange"))
ggplot(total.emissions.Onroad, aes(Year, Emissions, colour = FIPS)) + geom_line() + geom_point() + geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=-1), show_guide = FALSE) + ggtitle('Total Emissions of Motor Vehicle Sources\nLos Angeles County, California vs. Baltimore City, Maryland') + scale_color_manual("Legend Title\n", labels = c("Los Angeles County, California", "Baltimore City, Maryland"), values = c("blue", "red"))
png(filename = "plot6.png", width = 500, height = 500, units = "px")
# plotting total.emissions using the base package
ggplot(total.emissions.Onroad, aes(Year, Emissions, colour = FIPS)) + geom_line() + geom_point() + geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=-1), show_guide = FALSE) + ggtitle('Total Emissions of Motor Vehicle Sources\nLos Angeles County, California vs. Baltimore City, Maryland') + scale_color_manual("Legend Title\n", labels = c("Los Angeles County, California", "Baltimore City, Maryland"), values = c("blue", "red"))
# closing the PNG device
dev.off()
NEI.24510 <- NEI[which(NEI$fips == "24510")]
# aggregating total emissions by year
total.emissions <- as.data.table(with(NEI.24510, aggregate(Emissions, by = list(year, type), sum)))
# renaming columns of total.emissions
names(total.emissions) <- c("Year", "Type", "Emissions")
ggplot(total.emissions, aes(Year, Emissions, colour = Type)) + geom_line() + geom_point()
ggplot(total.emissions, aes(Year, Emissions, colour = Type)) + geom_line() + geom_point() + ggtitle('Total Emissions of Motor Vehicle Sources\nBaltimore City, by type')
png(filename = "plot3.png", width = 500, height = 500, units = "px")
# plotting total.emissions using the base package
ggplot(total.emissions, aes(Year, Emissions, colour = Type)) + geom_line() + geom_point() + ggtitle('Total Emissions of Motor Vehicle Sources\nBaltimore City, by type')
# closing the PNG device
dev.off()
ggplot(total.emissions, aes(Year, Emissions)) + geom_line() + geom_point() + + ggtitle('Total Emissions of Motor Vehicle Sources')
combustionRelated <- grepl("comb", SCC$SCC.Level.One, ignore.case=TRUE)
coalRelated <- grepl("coal", SCC$SCC.Level.Four, ignore.case=TRUE)
coalCombustion <- (combustionRelated & coalRelated)
coalCombustionSCC <- SCC[coalCombustion,]$SCC
coalCombustionNEI <- NEI[NEI$SCC %in% coalCombustionSCC,]
# aggregating total emissions by year
total.emissions <- as.data.table(with(coalCombustionNEI, aggregate(Emissions, by = list(year), sum)))
# renaming columns of total.emissions
names(total.emissions) <- c("Year", "Emissions")
ggplot(total.emissions, aes(Year, Emissions)) + geom_line() + geom_point() + + ggtitle('Total Emissions of Motor Vehicle Sources')
ggplot(total.emissions, aes(Year, Emissions)) + geom_line() + geom_point() + ggtitle('Total Emissions of Motor Vehicle Sources')
png(filename = "plot4.png", width = 500, height = 500, units = "px")
# plotting total.emissions using the base package
ggplot(total.emissions, aes(Year, Emissions)) + geom_line() + geom_point() + ggtitle('Total Emissions of Motor Vehicle Sources')
# closing the PNG device
dev.off()
NEI.24510 <- NEI[which(NEI$fips == "24510")]
# aggregating total emissions by year, and only for On Road
total.emissions <- as.data.table(with(NEI.24510, aggregate(Emissions, by = list(year, type), sum)))
# renaming columns of total.emissions
names(total.emissions) <- c("Year", "Type", "Emissions")
# subsetting total.emissions for only ON-ROAD (which consist of emissions for all motor vehicles. Source: https://www.tceq.texas.gov/airquality/areasource/Sources_of_Air_Pollution.html)
total.emissions.Onroad <- total.emissions[which(total.emissions$Type == "ON-ROAD")]
ggplot(total.emissions.Onroad, aes(Year, Emissions, colour = Type)) + geom_line() + geom_point() + ggtitle('Total Emissions of Motor Vehicle Sources\nBaltimore City, Maryland')
png(filename = "plot5.png", width = 500, height = 500, units = "px")
# plotting total.emissions using the base package
ggplot(total.emissions.Onroad, aes(Year, Emissions, colour = Type)) + geom_line() + geom_point() + ggtitle('Total Emissions of Motor Vehicle Sources\nBaltimore City, Maryland')
# closing the PNG device
dev.off()
ggplot(total.emissions, aes(Year, Emissions)) + geom_line() + geom_point() + ggtitle('Total Emissions from coal combustion-related sources in the US')
combustionRelated <- grepl("comb", SCC$SCC.Level.One, ignore.case=TRUE)
coalRelated <- grepl("coal", SCC$SCC.Level.Four, ignore.case=TRUE)
coalCombustion <- (combustionRelated & coalRelated)
coalCombustionSCC <- SCC[coalCombustion,]$SCC
coalCombustionNEI <- NEI[NEI$SCC %in% coalCombustionSCC,]
# aggregating total emissions by year
total.emissions <- as.data.table(with(coalCombustionNEI, aggregate(Emissions, by = list(year), sum)))
# renaming columns of total.emissions
names(total.emissions) <- c("Year", "Emissions")
# opening the PNG device to plot chart for question 1
png(filename = "plot4.png", width = 500, height = 500, units = "px")
# plotting total.emissions using the base package
ggplot(total.emissions, aes(Year, Emissions)) + geom_line() + geom_point() + ggtitle('Total Emissions from coal combustion-related sources in the US')
# closing the PNG device
dev.off()
combustionRelated <- grepl("comb", SCC$SCC.Level.One, ignore.case=TRUE)
coalRelated <- grepl("coal", SCC$SCC.Level.Four, ignore.case=TRUE)
coalCombustion <- (combustionRelated & coalRelated)
coalCombustionSCC <- SCC[coalCombustion,]$SCC
coalCombustionNEI <- NEI[NEI$SCC %in% coalCombustionSCC,]
# aggregating total emissions by year
total.emissions <- as.data.table(with(coalCombustionNEI, aggregate(Emissions, by = list(year), sum)))
# renaming columns of total.emissions
names(total.emissions) <- c("Year", "Emissions")
# opening the PNG device to plot chart for question 1
png(filename = "plot4.png", width = 500, height = 500, units = "px")
# plotting total.emissions using the base package
ggplot(total.emissions, aes(Year, Emissions)) + geom_line() + geom_point() + ggtitle('Total Emissions from coal combustion-related sources in the US')
# closing the PNG device
dev.off()
